{% extends "base.html" %}

<head>
<script type="text/javascript" src="{{ MEDIA_URL }}js/jutils.js"></script>
</head>


{% block content %}

<h1 align='center'>{{title}}</h1>
     <table border=0 align="right">
	  <form method="post" action="">{% csrf_token %}
         <table style="width:50%; height:100%; background-color:lightblue" class="sortable">{{ form|safe }}</table>
         <input type="submit" value="Submit" name="{{app_name}}"/>
         </form>
     </table>


{%if elements %}

<p align='left'>
<b>Summary of daily observations by element.  Last date considered : {{results.0.end}}</b>
</br>
</br>
<table>
  <tr>
	<th colspan=2 align="right">STATION</th><th colspan=2 align="right">START</th><th colspan=2 align="right">END</th>
    {%for el in elements%}
    <th colspan=2 align="right">{{el}}</th>
    {%endfor%}
  </tr>	
  {%for stn, stn_vals in results.items %}
  <tr>
	<td></td><td align="right">{{stn_vals.coop_station_id}}</td><td></td><td align="right">{{stn_vals.start}}</td><td></td><td align="right">{{stn_vals.end}}</td>
    {%for el in elements %}
	  <td></td><td align="right">{{stn_vals|lookup:el|safe}}</td>
	{%endfor%}
  </tr>
  {%endfor%}
</table>
</p>

</ br>
</ br>
</ br>

<p>
<b>SUMMARY-OF-THE-DAY STATISTICS</b></br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Last date considered for this listing : 20120101</br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;START - First date in record (YYMMDD)</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END   - Last  date in record (YYMMDD)</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;POSBL - Possible number of observations</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRSNT - Total number of days present in the record</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LNGPR - Largest number of consecutive observations</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MISSG - Total number of missing days</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LNGMS - Most consecutive missing observations</br>
A day is considered present if any element is reported.</br>
NAME is the latest name of the station in the history file.</br>
</br>

<table>
  <tr>
    <th colspan=2 align="right">NUMBER</th><th colspan=2 align="right">NAME</th><th colspan=2 align="right">START</th><th colspan=2 align="right">END</th><th colspan=2 align="right">POSBL</th><th colspan=2 align="right">PRSNT</th><th colspan=2 align="right">LNGPR</th><th colspan=2 align="right">MISSG</th><th colspan=2 align="right">LNGMS</th>
   <tr>
  {%for stn, stn_vals in results.items %}
  <tr>
    <td></td><td align="right">{{stn_vals.coop_station_id}}</td><td></td><td align="right">{{stn_vals.station_name}}</td><td></td><td align="right">{{stn_vals.start}}</td><td></td><td align="right">{{stn_vals.end}}</td><td></td><td align="right">{{stn_vals.PSBL}}</td><td></td><td align="right">{{stn_vals.PRSNT}}</td><td></td><td align="right">{{stn_vals.LNGPR}}</td><td></td><td align="right">{{stn_vals.MISSG}}</td><td></td><td align="right">{{stn_vals.LNGMS}}</td>
  </tr>
  {%endfor%}
</table>
</p>

{%endif%}

{% endblock %}
