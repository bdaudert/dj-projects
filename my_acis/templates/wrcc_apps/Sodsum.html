{% extends "base.html" %}

<head>
<script type="text/javascript" src="{{ MEDIA_URL }}js/jutils.js"></script>
</head>

{%load my_wrcc_apps_filters%}

{% block content %}

<h1 align='center'>{{title}}</h1>
     <table border=0 align="right">
	  <form id="form1" method="post" action="">{% csrf_token %}
         <table style="width:50%; height:100%; background-color:#cce5cc" class="sortable">{{ form|safe }}</table>
         <input type="submit" value="Select" name="{{app_name}}"/>
         </form>
     </table>
</br>
</br>

{%if elements %}
<!--<p align='left'>-->
<div class="dataTableInfo"  align="left" style="max-width:95%;word-wrap:break-word;">
<b>SUMMARY-OF-THE-DAY STATISTICS: Last date considered : {{results.0.end}}</b>
START - First date in record (YYMMDD)</br>
END   - Last  date in record (YYMMDD)</br>
POSBL - Possible number of observations</br>
PRSNT - Total number of days present in the record</br>
LNGPR - Largest number of consecutive observations</br>
MISSG - Total number of missing days</br>
LNGMS - Most consecutive missing observations</br>
A day is considered present if any element is reported.</br>
NAME is the latest name of the station in the history file.</br>
</div>
</br>
</br>

<table class="dataTable nowrap"  border="1" width="760px" cellspacing="0" cellpadding="0">
<thead><tr>
   <th>STATION</th><th>START</th><th>END</th>
    {%for el in elements%}
    <th>{{el}}</th>
    {%endfor%} 
</tr></thead>
<tfoot><tr>
   <th>STATION</th><th>START</th><th>END</th>
    {%for el in elements%}
    <th>{{el}}</th>
    {%endfor%} 
</tr></tfoot>
<tbody>
    {%for stn, stn_vals in results.items %}
        <tr>
        <td>{{stn_vals.station_id}}</td><td>{{stn_vals.start}}</td><td>{{stn_vals.end}}</td>
        {%for el in elements %}
            <td>{{stn_vals|lookup:el|safe}}</td>
        {%endfor%}
        </tr>
    {%endfor%}
</tbody>
</table>
</ br>
</ br>

<table class="dataTable nowrap"  border="1" width="760px" cellspacing="0" cellpadding="0">
<thead><tr>
    <th>NUMBER</th><th>NAME</th><th>START</th><th>END</th><th>POSBL</th><th>PRSNT</th><th>LNGPR</th><th>MISSG</th><th>LNGMS</th>
</tr></thead>
<tfoot><tr>
    <th>NUMBER</th><th>NAME</th><th>START</th><th>END</th><th>POSBL</th><th>PRSNT</th><th>LNGPR</th><th>MISSG</th><th>LNGMS</th>
</tr></tfoot>
<tbody>
{%for stn, stn_vals in results.items %}
<tr>
<td>{{stn_vals.station_id}}</td><td>{{stn_vals.station_name}}</td><td>{{stn_vals.start}}</td><td>{{stn_vals.end}}</td><td>{{stn_vals.PSBL}}</td><td>{{stn_vals.PRSNT}}</td><td>{{stn_vals.LNGPR}}</td><td>{{stn_vals.MISSG}}</td><td>{{stn_vals.LNGMS}}</td>
</tr>
{%endfor%}
</tbody>
</table>

{%endif%}

{% endblock %}
