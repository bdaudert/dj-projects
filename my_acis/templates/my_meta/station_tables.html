{% extends "base.html" %}

{% block breadcrumbs %}
{{ block.super }}
| Station tables
{% endblock %}

{% block content %}

<!--my_filters enables variable key  dictionary lookup-->
{% load my_filters %}


<SCRIPT LANGUAGE="JavaScript">
function Toggle(node)
{
        // Unfold the branch if it isn't visible
        if (node.nextSibling.style.display == 'none')
        {
                // Change the image (if there is an image)
                if (node.children.length > 0)
                {
                        if (node.children.item(0).tagName == "IMG")
                        {
                                node.children.item(0).src = "{{ MEDIA_URL }}img/minus.gif";
                        }
                }

                node.nextSibling.style.display = '';
        }
        // Collapse the branch if it IS visible
        else
        {
                // Change the image (if there is an image)
                if (node.children.length > 0)
                {
                        if (node.children.item(0).tagName == "IMG")
                        {
                                node.children.item(0).src = "{{ MEDIA_URL }}img/plus.gif";
                        }
                }

                node.nextSibling.style.display = 'none';
        }

}

function ShowHide(divId)
{
        obj = document.getElementById(divId);
        if (obj.style.display == 'none')
        {
                obj.style.display = 'block';
        }
        else
        {
                obj.style.display = 'none';
        }
}
</SCRIPT>


<h1>{{title}}</h1>

<p>UCAN station ID</p>
<form action="." method="get">
    <input type="text" name="ucan_id" value="{{ucan_station_id}}" />
    <input type="submit" value="Submit" />
</form>
{% if ucan_station_id %}

{% for tbl_name, tbl_instances in table_dir.items %}
    <TABLE STYLE="width:100%; border:0" ><TR><TD><A onClick="Toggle(this)"><IMG SRC="{{ MEDIA_URL }}img/plus.gif"> {{ tbl_name }}</A><DIV style='display:none'>

    {%for tbl_instance in tbl_instances %}
          <TABLE BORDER=0><TR><TD><A HREF="#" onclick="ShowHide('{{tbl_instance}}')"><IMG src="{{ MEDIA_URL }}img/leaf.gif">{{ tbl_instance }} Show/Hide</A>
          <DIV></DIV></TD></TR></TABLE>
    
         <DIV ALIGN="right" ID='{{tbl_instance}}' STYLE='display:none'>
             <TABLE STYLE="width:50%; height:100%; background-color:yellow" CLASS="sortable">{{ table|lookup:tbl_instance|safe }}</TABLE>
         </DIV>
          
    {% endfor%}
    </DIV></TD></TR></TABLE>
{% endfor %}

{% endif %}

{% endblock %}

